(window.webpackJsonp=window.webpackJsonp||[]).push([[2,9],{11:function(u,o,i){"use strict";i.r(o),i.d(o,"FeatureDetectionService",function(){return a});var r=i(91),s=i(21),c=i(3);class a extends s.BaseService{constructor(t,{global:e,document:n,navigator:h},{actionTypes:d,mutationTypes:l}){super(t,e,d,l),this.document_=n,this.global_=e,this.navigator_=h,this.motionQuery_=null,this.handleReduceMotionChanged_=this.handleReduceMotionChanged_.bind(this),this.detectWebpSupport_=this.detectWebpSupport_.bind(this)}initialize_(){return Promise.all([this.detectIntersectionObserverAvailability_(),this.detectTouchability_(),this.detectReduceMotion_(),this.detectOs_(),this.detectConnectionSpeed_(),this.detectWebpSupport_()]).then(()=>this)}detectIntersectionObserverAvailability_(){return Object(c.a)(()=>{const t="IntersectionObserver"in this.global_;this.store_.commit(this.mutationTypes_.SET_INTERSECTION_OBSERVER_AVAILABILITY,{isIntersectionObserverAvailable:t})})}detectTouchability_(){return Object(c.a)(()=>{const t=this.getTouchability_();this.store_.commit(this.mutationTypes_.SET_IS_TOUCH,{isTouch:t})})}detectReduceMotion_(){return Object(c.a)(()=>{this.motionQuery_=matchMedia("(prefers-reduced-motion)"),this.motionQuery_.addListener(this.handleReduceMotionChanged_),this.handleReduceMotionChanged_()})}detectOs_(){return Object(c.a)(()=>{const t=this.navigator_.userAgent,e=t.indexOf("Android")>=0;if(e){const n=parseFloat(t.slice(t.indexOf("Android")+8));this.store_.commit(this.mutationTypes_.SET_ANDROID_VERSION,{version:n})}this.store_.commit(this.mutationTypes_.SET_IS_ANDROID,{isAndroid:e})})}detectConnectionSpeed_(){return Object(c.a)(()=>{const e=new r.a().isFast();this.store_.commit(this.mutationTypes_.SET_CONNECTION_SPEED,{isConnectionFast:e})})}detectWebpSupport_(){return new this.global_.Promise(t=>{let e=!1;const n=new Image,h="UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=";n.onload=()=>{n.width>0&&n.height>0&&(e=!0),this.store_.commit(this.mutationTypes_.SET_WEBP_SUPPORT,{isWebpSupported:e}),t()},n.onerror=()=>{this.store_.commit(this.mutationTypes_.SET_WEBP_SUPPORT,{isWebpSupported:e}),t()},n.src=`data:image/webp;base64,${h}`})}getTouchability_(){return"ontouchstart"in this.document_.documentElement}handleReduceMotionChanged_(){const t=this.motionQuery_.matches;this.store_.commit(this.mutationTypes_.SET_REDUCED_MOTION,{isReducedMotionOn:t}),this.store_.broadcast(this.actionTypes_.REDUCED_MOTION_CHANGE,{isReducedMotionOn:t})}}},21:function(u,o,i){"use strict";i.r(o),i.d(o,"BaseService",function(){return s});var r=i(3);class s{constructor(a,_,t,e){this.store_=a,this.global_=_,this.isInitialized_=!1,this.isBuilt_=!1,this.actionTypes_=t,this.mutationTypes_=e}initialize(){return this.isInitialized_?Promise.resolve(this):Object(r.a)(()=>(this.isInitialized_=!0,this.initialize_(),this))}build(){return this.isBuilt_?Promise.resolve(this):Object(r.a)(()=>(this.isBuilt_=!0,this.build_(),this))}initialize_(){}build_(){}}},91:function(u,o,i){"use strict";i.d(o,"a",function(){return r});class r{constructor(){this.rtt_=0,this.downlink_=0,this.effectiveType_="",this.saveData_=!1,this.connection_=s.CONNECTION_FAST,this.initialize_()}initialize_(){this.onValidConnection_()&&(this.setConnection_(),this.bindEvents_())}bindEvents_(){navigator.connection.addEventListener("change",()=>this.onConnectionChange)}onValidConnection_(){return navigator.connection&&navigator.connection.effectiveType}isFast(){return this.connection_===s.CONNECTION_FAST}setConnection_(){/\slow-2g|2g|3g/.test(navigator.connection.effectiveType)?this.connection_=s.CONNECTION_SLOW:this.connection_=s.CONNECTION_FAST}onConnectionChange_(){const{rtt:a,downlink:_,effectiveType:t,saveData:e}=navigator.connection;this.rtt_=a,this.downlink_=_,this.effectiveType_=t,this.saveData_=e,this.setConnection_()}}const s={CONNECTION_FAST:"fast",CONNECTION_SLOW:"slow"}}}]);
